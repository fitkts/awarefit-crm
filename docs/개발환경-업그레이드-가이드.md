# 개발 환경 업그레이드 가이드 🚀

이 문서는 Awarefit CRM 프로젝트의 개발 환경을 한층 업그레이드한 내용을
설명합니다.

## 📋 업그레이드된 주요 기능들

### 1. 코드 품질 자동화 📝

#### Git Hooks (Husky + lint-staged)

- **커밋 전 자동 검사**: 코드 린트, 포맷팅이 자동으로 실행됩니다
- **커밋 메시지 검증**: 일관된 커밋 메시지 규칙을 강제합니다

```bash
# 이제 커밋할 때 자동으로 실행됩니다:
# 1. ESLint로 코드 검사
# 2. Prettier로 코드 포맷팅
# 3. 커밋 메시지 규칙 검증
git commit -m "feat: 새로운 기능 추가"
```

#### 표준 커밋 메시지 규칙

```
type(scope): description

예시:
feat: 회원 등록 기능 추가
fix: 데이터베이스 연결 오류 수정
docs: README 파일 업데이트
style: 코드 포맷팅 수정
refactor: 코드 리팩토링
test: 테스트 케이스 추가
chore: 빌드 설정 변경
```

### 2. 향상된 개발 도구 🛠️

#### EditorConfig

- 모든 에디터에서 일관된 코딩 스타일 유지
- 들여쓰기, 줄바꿈, 인코딩 등 자동 설정

#### Node.js 버전 관리 (.nvmrc)

```bash
# 권장 Node.js 버전으로 자동 전환
nvm use
```

#### 환경 변수 템플릿 (env.example)

```bash
# 환경 변수 설정
cp env.example .env
# .env 파일을 수정하여 실제 값 입력
```

### 3. 강화된 테스트 환경 🧪

#### Jest 설정 개선

- **React Testing Library** 통합
- **jsdom** 환경으로 브라우저 환경 시뮬레이션
- **Electron API 모킹** 자동 설정
- **커버리지 리포트** 생성

#### 새로운 테스트 명령어

```bash
npm run test:watch     # 파일 변경 감시하며 테스트
npm run test:coverage  # 커버리지 리포트 생성
npm run test:ui        # 상세한 테스트 결과 표시
npm run test:debug     # 디버깅 모드로 테스트
```

### 4. VSCode 커스텀 스니펫 ✨

프로젝트에 특화된 코드 스니펫을 추가했습니다:

#### 사용 가능한 스니펫들

- `rfc` - React Functional Component 생성
- `rhook` - React Custom Hook 생성
- `eipc` - Electron IPC Handler 생성
- `dbmethod` - Database Repository Method 생성
- `test` - Jest Test Case 생성
- `zstore` - Zustand Store 생성

#### 사용 방법

1. TypeScript/React 파일에서 약어 입력 (예: `rfc`)
2. Tab 키를 눌러 스니펫 확장
3. Tab으로 플레이스홀더 간 이동하며 내용 입력

### 5. 개선된 npm Scripts 🎯

#### 새로 추가된 스크립트들

**테스트 관련**

```bash
npm run test:watch     # 테스트 감시 모드
npm run test:coverage  # 커버리지 분석
npm run test:debug     # 디버깅 모드
```

**개발 편의성**

```bash
npm run commit         # 대화형 커밋 생성
npm run deps:check     # 의존성 업데이트 확인
npm run deps:update    # 의존성 업데이트
npm run dev:clean      # 클린 빌드 후 개발 시작
npm run dev:reset      # 완전 초기화 후 개발 시작
```

**프로젝트 분석**

```bash
npm run size:check     # 빌드 크기 확인
npm run env:check      # 환경 변수 확인
npm run scripts:list   # 사용 가능한 스크립트 목록
```

**🤖 완전 자동화 시스템 (신규 추가!)**

```bash
# 전체 시스템 상태
npm run health-check      # 91.7/100점 종합 진단

# 데이터베이스 자동화
npm run migrate:check     # DB 마이그레이션 상태 확인
npm run migrate:run       # 안전한 DB 스키마 업데이트
npm run migrate:rollback  # DB 변경사항 롤백

# 백업 및 복원
npm run backup           # 전체 프로젝트 백업
npm run backup:quick     # 11초 빠른 백업
npm run restore          # 백업에서 복원
npm run backup:list      # 백업 목록 확인

# 성능 모니터링
npm run perf:monitor     # 실시간 성능 추적
npm run perf:analyze     # 성능 분석 리포트
npm run perf:optimize    # 자동 성능 최적화
npm run perf:report      # HTML 성능 리포트 생성

# 배포 자동화
npm run deploy:check     # 배포 사전 점검 (7단계)
npm run deploy:prepare   # 배포 준비 작업
npm run deploy:full      # 완전 자동 배포
```

## 🚀 시작하기

### 1. 기존 프로젝트 업그레이드

```bash
# 의존성 재설치
npm run reinstall

# Husky 설정 확인
npm run prepare

# 전체 상태 점검
npm run doctor
```

### 2. Git Hooks 테스트

```bash
# 테스트 커밋 (자동 린트/포맷팅 확인)
git add .
npm run commit
```

### 3. 테스트 환경 확인

```bash
# 테스트 실행
npm test

# 커버리지 확인
npm run test:coverage
```

## 📱 VSCode 확장 프로그램 권장사항

프로젝트에서 권장하는 확장 프로그램들이 `.vscode/extensions.json`에 정의되어
있습니다:

### 필수 확장 프로그램

- **Tailwind CSS IntelliSense** - CSS 클래스 자동완성
- **ESLint** - 코드 품질 검사
- **Prettier** - 코드 포맷팅
- **GitLens** - Git 기능 강화

### 개발 편의성 확장 프로그램

- **Auto Rename Tag** - HTML/JSX 태그 자동 변경
- **Path Intellisense** - 파일 경로 자동완성
- **Error Lens** - 에러/경고 인라인 표시
- **TODO Tree** - TODO 주석 관리

## 🔧 개발 워크플로우

### 일반적인 개발 사이클

1. **브랜치 생성**: `git checkout -b feature/새기능`
2. **개발 시작**: `npm run dev`
3. **코드 작성**: VSCode 스니펫 활용
4. **테스트**: `npm run test:watch`
5. **커밋**: `npm run commit` (자동 린트/포맷팅)
6. **푸시**: `git push`

### 코드 품질 점검

```bash
# 빠른 상태 체크
npm run health-check

# 전체 품질 점검
npm run check-all

# 자동 수정
npm run fix-all
```

## 🚨 문제 해결

### 일반적인 문제들

#### Git Hooks가 작동하지 않는 경우

```bash
# Husky 재설치
npm run prepare
chmod +x .husky/pre-commit .husky/commit-msg
```

#### 테스트가 실패하는 경우

```bash
# 테스트 환경 재설정
npm run clean
npm run compile
npm test
```

#### 의존성 문제가 있는 경우

```bash
# 완전 재설치
npm run reinstall
```

## 📚 추가 학습 자료

- **Jest Testing**: [Jest 공식 문서](https://jestjs.io/)
- **React Testing Library**:
  [RTL 공식 문서](https://testing-library.com/docs/react-testing-library/intro/)
- **Conventional Commits**: [커밋 규칙](https://www.conventionalcommits.org/)
- **ESLint 규칙**: [ESLint 공식 문서](https://eslint.org/docs/rules/)

## 🎯 다음 단계

1. **CI/CD 파이프라인 구축**
2. **자동 배포 설정**
3. **성능 모니터링 도구 추가**
4. **E2E 테스트 환경 구축**

이제 더욱 전문적이고 효율적인 개발 환경에서 작업할 수 있습니다! 🎉
