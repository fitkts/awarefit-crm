# TypeScript ê°œë°œ ê°€ì´ë“œ

## ğŸ¯ ëª©ì 

ì´ ê°€ì´ë“œëŠ” Awarefit-CRM í”„ë¡œì íŠ¸ì—ì„œ TypeScript ê°œë°œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” íƒ€ì… ì˜¤ë¥˜ë“¤ì„ ì‚¬ì „ì— ë°©ì§€í•˜ê³ , ì¼ê´€ëœ ê°œë°œ ë°©ì‹ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. í•„ìˆ˜ í™•ì¥ í”„ë¡œê·¸ë¨ (VSCode)

```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-json"
  ]
}
```

### 2. VSCode ì„¤ì •

```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.organizeImports": true
  },
  "typescript.preferences.removeUnusedImports": true,
  "eslint.validate": ["typescript", "typescriptreact"]
}
```

## ğŸ“ íƒ€ì… ì •ì˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. Optional vs Nullable íƒ€ì… ì¼ê´€ì„±

**âŒ ì˜ëª»ëœ ì˜ˆ:**
```typescript
interface User {
  name: string;
  email?: string;  // ë•Œë¡œëŠ” undefined
  phone: string | null;  // ë•Œë¡œëŠ” null
  address?: string | null;  // í˜¼ì¬ëœ ì‚¬ìš©
}
```

**âœ… ì˜¬ë°”ë¥¸ ì˜ˆ:**
```typescript
interface User {
  name: string;
  email?: string | null;  // ì¼ê´€ëœ nullable íƒ€ì…
  phone?: string | null;
  address?: string | null;
}
```

### 2. ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í™œìš©

```typescript
// utils/memberUtils.tsì—ì„œ ì œê³µí•˜ëŠ” í•¨ìˆ˜ë“¤ ì‚¬ìš©
import { calculateAge, formatPhoneNumber, isValidEmail } from '../utils/memberUtils';

// âŒ ì§ì ‘ êµ¬í˜„í•˜ì§€ ë§ê³ 
const age = member.birth_date ? new Date().getFullYear() - new Date(member.birth_date).getFullYear() : null;

// âœ… ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‚¬ìš©
const age = calculateAge(member.birth_date);
```

### 3. ì¸í„°í˜ì´ìŠ¤ í™•ì¥ íŒ¨í„´

```typescript
// ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤
interface BaseMember {
  id: number;
  name: string;
  // ...
}

// í™•ì¥ëœ ì¸í„°í˜ì´ìŠ¤
interface MemberDetail extends BaseMember {
  age?: number;
  currentMembership?: ExtendedMembershipHistory;
  // ...
}

// ìƒì„±ìš© íƒ€ì… (Omit í™œìš©)
type CreateMemberInput = Omit<BaseMember, 'id' | 'created_at' | 'updated_at'>;
```

## ğŸš« ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì™€ í•´ê²°ì±…

### 1. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Import ì˜¤ë¥˜

**ë¬¸ì œ:**
```typescript
import React, { useState, useEffect } from 'react';
import { Camera, Heart, Upload } from 'lucide-react'; // ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” importë“¤
```

**í•´ê²°ì±…:**
- ESLintê°€ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ìˆ˜ì •
- `npm run lint:fix` ëª…ë ¹ì–´ë¡œ ìë™ ìˆ˜ì •
- VSCodeì—ì„œ ì €ì¥ ì‹œ ìë™ ì •ë¦¬ ì„¤ì •

### 2. Null/Undefined ì•ˆì „ì„±

**ë¬¸ì œ:**
```typescript
const age = calculateAge(member.birth_date); // number | null
const detail: MemberDetail = {
  ...member,
  age: age // Type 'number | null' is not assignable to type 'number | undefined'
};
```

**í•´ê²°ì±…:**
```typescript
const age = calculateAge(member.birth_date); // number | undefined (ì¼ê´€ëœ íƒ€ì…)
const detail: MemberDetail = {
  ...member,
  age: age ?? undefined, // ëª…ì‹œì  ë³€í™˜
};
```

### 3. íƒ€ì… ê°€ë“œ í™œìš©

```typescript
// âŒ íƒ€ì… ë‹¨ì–¸ ë‚¨ìš©
const member = data as Member;

// âœ… íƒ€ì… ê°€ë“œ ì‚¬ìš©
function isMember(data: any): data is Member {
  return data && typeof data.id === 'number' && typeof data.name === 'string';
}

if (isMember(data)) {
  // dataëŠ” ì´ì œ Member íƒ€ì…ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
}
```

## ğŸ” ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ê°œë°œ ì‹œì‘ ì „

```bash
# íƒ€ì… ì²´í¬ ì‹¤í–‰
npm run type-check

# ë¦°íŒ… ì‹¤í–‰
npm run lint

# ì „ì²´ ì²´í¬
npm run check-all
```

### 2. ê°œë°œ ì¤‘

```bash
# ì‹¤ì‹œê°„ íƒ€ì… ì²´í¬
npm run type-check:watch

# ì‹¤ì‹œê°„ ë¦°íŒ… (ë³„ë„ í„°ë¯¸ë„)
npm run lint:watch
```

### 3. ì»¤ë°‹ ì „

```bash
# ì½”ë“œ í¬ë§·íŒ…
npm run format

# ì „ì²´ ì²´í¬
npm run check-all
```

## ğŸ“š ê¶Œì¥ íŒ¨í„´

### 1. ì—ëŸ¬ í•¸ë“¤ë§

```typescript
import { safeExecute } from '../utils/memberUtils';

// âŒ try-catch ë°˜ë³µ
try {
  const age = calculateAge(birthDate);
  return age;
} catch {
  return undefined;
}

// âœ… ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í™œìš©
const age = safeExecute(() => calculateAge(birthDate), undefined);
```

### 2. ë””ë°”ìš´ìŠ¤ íŒ¨í„´

```typescript
import { debounce } from '../utils/memberUtils';

// ê²€ìƒ‰ ì…ë ¥ ë””ë°”ìš´ìŠ¤
const debouncedSearch = useCallback(
  debounce((value: string) => {
    onFilterChange({ ...filter, search: value });
  }, 300),
  [filter, onFilterChange]
);
```

### 3. ë°ì´í„° ë³€í™˜

```typescript
import { sanitizeMemberData, createMemberDetail } from '../utils/memberUtils';

// DBì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„° ì •ì œ
const members = rawData.map(sanitizeMemberData);

// ìƒì„¸ ì •ë³´ ê°ì²´ ìƒì„±
const memberDetail = createMemberDetail(member, {
  currentMembership: membership,
  visitCount: 10,
});
```

## ğŸ¨ ì»´í¬ë„ŒíŠ¸ ì‘ì„± ê°€ì´ë“œ

### 1. Props ì¸í„°í˜ì´ìŠ¤

```typescript
interface MemberCardProps {
  member: Member;
  onEdit: (member: Member) => void;
  onDelete: (member: Member) => void;
  className?: string;
}

const MemberCard: React.FC<MemberCardProps> = ({
  member,
  onEdit,
  onDelete,
  className = '',
}) => {
  // ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
};
```

### 2. ìƒíƒœ ê´€ë¦¬

```typescript
// âŒ any íƒ€ì… ì‚¬ìš©
const [data, setData] = useState<any>({});

// âœ… ëª…ì‹œì  íƒ€ì… ì •ì˜
const [memberDetail, setMemberDetail] = useState<MemberDetail | null>(null);
const [loading, setLoading] = useState<boolean>(false);
const [errors, setErrors] = useState<Record<string, string>>({});
```

### 3. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

```typescript
// âŒ íƒ€ì… ì—†ëŠ” í•¸ë“¤ëŸ¬
const handleSubmit = (e) => {
  // ...
};

// âœ… íƒ€ì…ì´ ìˆëŠ” í•¸ë“¤ëŸ¬
const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
  e.preventDefault();
  // ...
};

const handleInputChange = (field: keyof CreateMemberInput, value: string) => {
  // ...
};
```

## ğŸš€ ì„±ëŠ¥ ìµœì í™”

### 1. ë©”ëª¨ì´ì œì´ì…˜

```typescript
const memoizedStats = useMemo(() => {
  return calculateMemberStats(members);
}, [members]);

const memoizedFilteredMembers = useMemo(() => {
  return filterMembers(members, searchTerm);
}, [members, searchTerm]);
```

### 2. ì½œë°± ìµœì í™”

```typescript
const handleFilterChange = useCallback((filter: MemberSearchFilter) => {
  setSearchFilter(filter);
  setPagination(prev => ({ ...prev, page: 1 }));
}, []);
```

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ìƒì„± ì‹œ

- [ ] Props ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [ ] ì ì ˆí•œ íƒ€ì… import
- [ ] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í™œìš©
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ êµ¬í˜„
- [ ] ë¡œë”© ìƒíƒœ ê´€ë¦¬
- [ ] ì ‘ê·¼ì„± ê³ ë ¤ (a11y)

### ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ìˆ˜ì • ì‹œ

- [ ] íƒ€ì… ì²´í¬ ì‹¤í–‰
- [ ] ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” import ì œê±°
- [ ] ë¦°íŒ… ê·œì¹™ ì¤€ìˆ˜
- [ ] í…ŒìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (ìˆëŠ” ê²½ìš°)

### ì»¤ë°‹ ì „

- [ ] `npm run check-all` í†µê³¼
- [ ] ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ì½”ë“œ ë¦¬ë·° ìš”ì²­

## ğŸ†˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ì˜¤ë¥˜ í•´ê²°

1. **"is declared but its value is never read"**
   - ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” importë‚˜ ë³€ìˆ˜ ì œê±°
   - `npm run lint:fix` ì‹¤í–‰

2. **"Type 'null' is not assignable to type 'undefined'"**
   - íƒ€ì… ì •ì˜ ì¼ê´€ì„± í™•ì¸
   - `?.` ì—°ì‚°ìë‚˜ `??` ì—°ì‚°ì í™œìš©

3. **"Cannot find module"**
   - import ê²½ë¡œ í™•ì¸
   - íŒŒì¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
   - tsconfig.jsonì˜ paths ì„¤ì • í™•ì¸

### ë„ì›€ì´ ë˜ëŠ” ëª…ë ¹ì–´

```bash
# íƒ€ì… ì—ëŸ¬ë§Œ í™•ì¸
npm run type-check

# ìë™ ìˆ˜ì • ê°€ëŠ¥í•œ ë¦°íŠ¸ ì—ëŸ¬ ìˆ˜ì •
npm run lint:fix

# ì½”ë“œ í¬ë§·íŒ…
npm run format

# ì „ì²´ ê²€ì‚¬
npm run check-all
```

## ğŸ”— ì¶”ê°€ ìë£Œ

- [TypeScript ê³µì‹ ë¬¸ì„œ](https://www.typescriptlang.org/docs/)
- [React TypeScript ê°€ì´ë“œ](https://react-typescript-cheatsheet.netlify.app/)
- [ESLint TypeScript ê·œì¹™](https://typescript-eslint.io/rules/)

ì´ ê°€ì´ë“œë¥¼ ë”°ë¥´ë©´ íƒ€ì… ì˜¤ë¥˜ë¥¼ ì‚¬ì „ì— ë°©ì§€í•˜ê³  ì¼ê´€ëœ ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 